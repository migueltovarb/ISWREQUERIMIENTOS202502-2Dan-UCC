{% extends 'base.html' %}
{% block title %}Listado de Vehículos{% endblock %}
{% block header %}Listado de Vehículos{% endblock %}

{% block content %}
<a href="{% url 'create_vehiculo' %}" class="btn btn-primary mb-3">Crear Nuevo</a>
<table class="table">
    <thead><tr><th>Placa</th><th>Marca</th><th>Color</th><th>Modelo</th><th>Acciones</th></tr></thead>
    <tbody>
        {% for vehiculo in vehiculos %}
        <tr>
            <td>{{ vehiculo.placa }}</td>
            <td>{{ vehiculo.marca }}</td>
            <td>{{ vehiculo.get_color_display }}</td>  {# Muestra el label del choice #}
            <td>{{ vehiculo.modelo }}</td>
            <td>
                <a href="{% url 'update_vehiculo' vehiculo.pk %}" class="btn btn-warning btn-sm">Editar</a>
                <a href="{% url 'delete_vehiculo' vehiculo.pk %}" class="btn btn-danger btn-sm" onclick="return confirm('¿Seguro?')">Eliminar</a>
            </td>
        </tr>
        {% empty %}
        <tr><td colspan="5">No hay vehículos registrados.</td></tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}